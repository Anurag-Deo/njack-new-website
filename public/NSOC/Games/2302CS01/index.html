<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANSH PREM</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <div id="score">Score:0</div>
    <button id="start">Start</button>
    <button id="instruction">
        <h1>WELCOME TO IIT PATNA<br>
            <h2>INSTRUCTIONS</h2>
            <h3>
                Myself, ANSH PREM;
                <br>
                THE FOLLOWING GAME IS MINI VERSION OF ROAD RAGE AND MADE BY ME FOR NSOC.
                <br>
                BASICALLY, YOU HAVE TO HELP THE PLAYER CAR TO DODGE RIVAL CARS BY KEYBOARD COMMAND KEYS.
                IF THE PLAYER CAR BUMPS TO ANY OBSTACLE OR BORDER OF ROAD(EITHER LEFT OR RIGHT OR UPPER RANGE OR LOWER RANGE) OR RIVAL CARS.
                THEN THE GAME OVERS AND YOU HAVE TO TRY AGAIN.  
                THE CONTROLS ARE VERY SIMPLE.
                USE UP ARROW KEY TO CONTROL THE PLAYER CAR TO MOVE TO ABOVE POSITION.
                USE DOWN ARROW KEY TO CONTROL THE PLAYER CAR TO MOVE TO BELOW POSITION.
                USE LEFT ARROW KEY TO CONTROL THE PLAYER CAR TO MOVE TO LEFT POSITION.
                USE RIGHT ARROW KEY TO CONTROL THE PLAYER CAR TO MOVE TO RIGHT POSITION.
            </h3>
            <h2>SO,SCORE AS MUCH AS YOU CAN.</h2>
            <h2>AND I HOPE YOU LIKE THE GAME.</h2>
    
    
    </h1>
</button>
    



    <div>
        <div id="enemycar1"><img id="ecarimg1" class="ecarimg" src="car2.png" alt=""></div>
        <div id="enemycar2"><img id="ecarimg2" class="ecarimg" src="car3 - Copy.png" alt=""></div>
        <div id="enemycar3"><img id="ecarimg3" class="ecarimg" src="car3 - Copy (2).png" alt=""></div>
        <div id="enemycar4"><img id="ecarimg4" class="ecarimg" src="car3.png" alt=""></div>
    </div>

    <div id="mycar"><img id="mycarimg" class="mycarimg" src="racing-car.png" alt=""></div>
    <div id="road"></div>

</body>
<script>
document.getElementById("start").addEventListener("click",function(){
    document.getElementById("start").style.display = 'none'
    document.getElementById("instruction").style.display = 'none'
    document.getElementById("road").style.animation ='roadanimation 20s linear infinite';

    setInterval(()=>{
        num=Math.floor(Math.random()*(350-230+1)+230)
        document.getElementById("enemycar1").style.left=`${num}px`

    },3000)

    setInterval(()=>{
        num=Math.floor(Math.random()*(150-50+1)+50)
        document.getElementById("enemycar2").style.left=`${num}px`

    },6000)

    setInterval(()=>{
        num=Math.floor(Math.random()*(-50+140+1)-140)
        document.getElementById("enemycar3").style.left=`${num}px`

    },5000)

    setInterval(()=>{
        num=Math.floor(Math.random()*(-220+330+1)-330)
        document.getElementById("enemycar4").style.left=`${num}px`

    },4000)

    document.getElementById("enemycar1").style.animation ='ecar1 3s linear infinite';
    document.getElementById("enemycar2").style.animation ='ecar2 6s linear infinite';
    document.getElementById("enemycar3").style.animation ='ecar3 5s linear infinite';
    document.getElementById("enemycar4").style.animation ='ecar4 4s linear infinite';




let t = 15
let l = 0

window.addEventListener("keydown", function (x) {

if (x.keyCode == 38) {
    t = t - 3
    // alert("w")

}
if (x.keyCode == 37) {
    l = l - 1
    // alert("w")
}
if (x.keyCode == 40) {
    t = t + 3
    // alert("w")
}
if (x.keyCode == 39) {
    l = l + 1
    // alert("w")
}
document.getElementById("mycar").style.top = `${t}vh`
document.getElementById("mycar").style.left = `${l}vw`

})
n=0;
setInterval(()=>{
    document.getElementById("score").innerText=`Score:${n}`
    n=n+1;

    var ecar1_left=Math.abs(document.getElementById("ecarimg1").getBoundingClientRect().left);
    var ecar1_right=Math.abs(document.getElementById("ecarimg1").getBoundingClientRect().right);
    var ecar1_top=Math.abs(document.getElementById("ecarimg1").getBoundingClientRect().top);
    var ecar1_bottom=Math.abs(document.getElementById("ecarimg1").getBoundingClientRect().bottom);

    var ecar2_left=Math.abs(document.getElementById("ecarimg2").getBoundingClientRect().left);
    var ecar2_right=Math.abs(document.getElementById("ecarimg2").getBoundingClientRect().right);
    var ecar2_top=Math.abs(document.getElementById("ecarimg2").getBoundingClientRect().top);
    var ecar2_bottom=Math.abs(document.getElementById("ecarimg2").getBoundingClientRect().bottom);

    var ecar3_left=Math.abs(document.getElementById("ecarimg3").getBoundingClientRect().left);
    var ecar3_right=Math.abs(document.getElementById("ecarimg3").getBoundingClientRect().right);
    var ecar3_top=Math.abs(document.getElementById("ecarimg3").getBoundingClientRect().top);
    var ecar3_bottom=Math.abs(document.getElementById("ecarimg3").getBoundingClientRect().bottom);

    var ecar4_left=Math.abs(document.getElementById("ecarimg4").getBoundingClientRect().left);
    var ecar4_right=Math.abs(document.getElementById("ecarimg4").getBoundingClientRect().right);
    var ecar4_top=Math.abs(document.getElementById("ecarimg4").getBoundingClientRect().top);
    var ecar4_bottom=Math.abs(document.getElementById("ecarimg4").getBoundingClientRect().bottom);

    var mycar_left=Math.abs(document.getElementById("mycarimg").getBoundingClientRect().left);
    var mycar_right=Math.abs(document.getElementById("mycarimg").getBoundingClientRect().right);
    var mycar_top=Math.abs(document.getElementById("mycarimg").getBoundingClientRect().top);
    var mycar_bottom=Math.abs(document.getElementById("mycarimg").getBoundingClientRect().bottom);




if(((ecar1_left<mycar_left  &&  mycar_left<ecar1_right)||(ecar1_left<mycar_right  &&  mycar_right<ecar1_right))&&((ecar1_top<mycar_top  &&  mycar_top<ecar1_bottom)||(ecar1_top<mycar_bottom  &&  mycar_bottom<ecar1_bottom)))
    {setTimeout(()=>{
        alert("GAME OVER\nTRY AGAIN")
    })
    location.reload();
}
if(((ecar2_left<mycar_left  &&  mycar_left<ecar2_right)||(ecar2_left<mycar_right  &&  mycar_right<ecar2_right))&&((ecar2_top<mycar_top  &&  mycar_top<ecar2_bottom)||(ecar2_top<mycar_bottom  &&  mycar_bottom<ecar2_bottom)))
    {setTimeout(()=>{
        alert("GAME OVER\nTRY AGAIN")
    })
    location.reload();
}
if(((ecar3_left<mycar_left  &&  mycar_left<ecar3_right)||(ecar3_left<mycar_right  &&  mycar_right<ecar3_right))&&((ecar3_top<mycar_top  &&  mycar_top<ecar3_bottom)||(ecar3_top<mycar_bottom  &&  mycar_bottom<ecar3_bottom)))
    {setTimeout(()=>{
        alert("GAME OVER\nTRY AGAIN")
    })
    location.reload();
}
if(((ecar4_left<mycar_left  &&  mycar_left<ecar4_right)||(ecar4_left<mycar_right  &&  mycar_right<ecar4_right))&&((ecar4_top<mycar_top  &&  mycar_top<ecar4_bottom)||(ecar4_top<mycar_bottom  &&  mycar_bottom<ecar4_bottom)))
    {setTimeout(()=>{
        alert("GAME OVER\nTRY AGAIN")
    })
    location.reload();
}
if((mycar_left<450 || mycar_right>1130 || mycar_top<20  || mycar_bottom>690))
    {setTimeout(()=>{
        alert("GAME OVER\nTRY AGAIN\nTRY BETTER")
    })
    location.reload();
}


},100)


}) 
</script>
</html>